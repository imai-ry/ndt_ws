<launch>

  <!-- カメラ映像やIMUのデータを取得しながらSLAMを行う。 カメラ映像と点群を同時に取得し、color_mapをpublishする-->

  <!-- LiDAR -->
  <include file="$(find velodyne_pointcloud)/launch/VLP16_points.launch">
    <arg name="calibration" default="$(find velodyne_pointcloud)/params/VLP16db.yaml"/>
    <arg name="device_ip" default="" />
    <arg name="frame_id" default="velodyne" />
    <arg name="manager" default="velodyne_nodelet_manager" />
    <arg name="max_range" default="130.0" />
    <arg name="min_range" default="0.4" />
  </include>

  <!-- camera -->
  <include file="$(find ndt_mapping)/launch/usb_cam.launch">
    <arg name="video_device" value="/dev/video1" />
    <arg name="image_width" value="1920" />
    <arg name="image_height" value="960" />
    <arg name="pixel_format" value="mjpeg" />
    <arg name="camera_frame_id" value="usb_cam" />
    <arg name="io_method" value="mmap"/>
  </include>

  <!-- IMU -->

  <!-- SLAM -->
  <include file="$(find ndt_mapping)/launch/ndt_color.launch">
    <arg name="tf_x" value="0.0" />
    <arg name="tf_y" value="0.0" /> 
    <arg name="tf_z" value="0.0" />
    <arg name="tf_roll" value="0.0" />
    <arg name="tf_pitch" value="-1.57" />  
    <!-- pitch = -1.57 -->
    <arg name="tf_yaw" value="0.0" />

    <arg name="method_type" value="3" /> 
    <!-- .GENERIC 3.OPENMP  -->
    <arg name="min_scan_range" value="1.0" />
    <arg name="max_scan_range" value="150.0" />
    <arg name="min_add_scan_shift" value="0.3" />
    <arg name="voxel_leaf_size" value="1.0" /> 
  </include>
  
</launch>
